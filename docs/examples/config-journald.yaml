---
# Example configuration for systemd journal logging
# Recommended for Linux systems running under systemd
logging:
  driver: journald
  format: json
  level: info

speaker:
  asn: 64600
  routerId: "10.135.55.195"
  gracefulRestartEnabled: true
  gracefulRestartRestartTime: 10

bfd:
  enabled: true
  listenAddress: "127.0.0.1"
  listenPort: 8081
  minimumReceptionInterval: 1000ms
  minimumTransmissionInterval: 1000ms
  detectionMultiplier: 1
  passive: false

api:
  listenAddress: "127.0.0.1"
  listenPort: 8081

neighbors:
  -
    address: "10.134.21.74"
    asn: 64599
    ebgpMultihopEnabled: true
  -
    address: "10.134.21.75"
    asn: 64599
    ebgpMultihopEnabled: true

prefixes:
  -
    ipAddress: "10.138.39.183/32"
    communities:
      - '6:97'
      - '1006:97'
    nextHop: "10.135.55.195"
    asn: 64600
    asPathPrepend: []
    multiExitDescriminator: 100
    withdrawOnDown: true
    maintenance: /etc/maintenance/test

    service:
      name: puppet.service
      type: systemd

    livenessProbe:
      initialDelaySeconds: "2s"
      terminationGracePeriodSeconds: "1s"
      periodSeconds: "5s"
      timeoutSeconds: "60s"
      failureThreshold: 3
      successThreshold: 1
      http:
        path: /healthz
        port: 80

    startupProbe:
      initialDelaySeconds: "1s"
      periodSeconds: "5s"
      exec:
        command: cat
        args:
          - /etc/passwd

    readinessProbe:
      initialDelaySeconds: "3s"
      periodSeconds: "10s"
      tcp:
        port: 8080
